"use strict";class NxIcons{config(e){NxIcons.$class=e,this.render()}render(){let e=document.querySelectorAll(NxIcons.$class);if(e)for(let t=0;t<e.length;t++){let n=e[t];n&&(n.querySelector("a.ncode-icon-remove").addEventListener("click",function(){event.preventDefault(),n.querySelector(".ncode-icon-preview").classList.add("hidden"),n.querySelector("input").value="",this.classList.add("hidden")}),n.querySelector(".ncode-icon-add").addEventListener("click",this.nxicon_load_modal))}}nxicon_load_modal(){event.preventDefault();jQuery;let e=this,t=e.parentElement;var n=document.querySelector("#ncode-modal-icon");n&&(n.classList.remove("hidden"),n.querySelector(".ncode-modal-loading").setAttribute("style","display: block;"),window.wp.ajax.post("ncode-get-icons",{nonce:e.getAttribute("data-nonce")}).done(function(e){n.querySelector(".ncode-modal-loading").setAttribute("style","display: none;"),n.querySelector(".ncode-icon-search").value="";var o=n.querySelector(".ncode-modal-load");o.innerHTML=e.content;let l=o.querySelectorAll("i");if(l)for(let e=0;e<l.length;e++){let o=l[e];o&&o.addEventListener("click",function(e){e.preventDefault();let o=this.getAttribute("title");t.querySelector("i").setAttribute("class",o);t.querySelector("input").value=o;t.querySelector(".ncode-icon-preview").classList.remove("hidden"),t.querySelector(".ncode-icon-remove").classList.remove("hidden"),n.classList.add("hidden")})}n.querySelector(".ncode-icon-search").addEventListener("keyup",function(){var e=this.value,t=o.querySelectorAll("i");if(t)for(let o=0;o<t.length;o++){var n=t[o];n.getAttribute("title").search(new RegExp(e,"i"))<0?n.setAttribute("style","display:none;"):n.setAttribute("style","display:inline-block;")}}),n.querySelector(".ncode-modal-close").addEventListener("click",function(){n.classList.add("hidden")}),n.querySelector(".ncode-modal-overlay").addEventListener("click",function(){n.classList.add("hidden")})}).fail(function(e){n.querySelector(".ncode-modal-loading").setAttribute("style","display: none;"),n.querySelector(".ncode-modal-load").innerHTML=e.error,n.addEventListener("click",function(){n.classList.add("hidden")})}))}static instance(){return new NxIcons}}